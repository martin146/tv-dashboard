(this["webpackJsonptv-dashboard"]=this["webpackJsonptv-dashboard"]||[]).push([[0],{10:function(e,t,a){e.exports={Item:"Security_Item__25_-f",InfoMessage:"Security_InfoMessage__3QA4R",createBox:"Security_createBox__2xrPQ",AlertPanel:"Security_AlertPanel__39jlK",AlertRow:"Security_AlertRow__3WBY-",Title:"Security_Title__1fGlW",Alert:"Security_Alert__2YYlt",Back:"Security_Back__3s3gE"}},101:function(e,t){},138:function(e,t){},139:function(e,t){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),s=a.n(i),c=(a(68),a(16)),o=a(21),l=a(22),m=a(24),u=a(23),d=(a(69),a(70),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getTime=function(){var e=new Date;return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],", ").concat(e.getDate(),".\n                         ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear()," | \n                         ").concat(e.getHours(),":").concat((e.getMinutes()<10?"0":"")+e.getMinutes())},e.changeTime=function(){e.setState({time:e.getTime()})},e.state={time:e.getTime()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.changeTime()}),1e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Cockpit"},r.a.createElement("div",{className:"Navbar"},r.a.createElement("p",null,this.props.homeName),r.a.createElement("p",null,this.state.time)))}}]),a}(n.Component)),h=a(1),v=a.n(h),g=(a(92),function(e){return e.homes.map((function(t,a){return r.a.createElement(h.Focusable,{className:e.homeId===a?"Tab Active":"Tab",key:a,onClickEnter:function(){return e.homeHandler(a)},onFocus:function(t){return e.focusHandler(t)},onKeyUp:function(t){return e.hideMenu(t)}},r.a.createElement("p",null,t.name))}))}),p=a(61),f=a.n(p),_=function(e){return e.scenes.map((function(t,a){var n;return t.active&&(n=r.a.createElement("hr",null)),r.a.createElement(h.Focusable,{className:f.a.Item,key:t.id,onKeyUp:function(t){return e.sendBack(t)},onClickEnter:function(a){return e.enterClicked(a,t.id)},onFocus:function(t){return e.focusHandler(t)}},r.a.createElement("img",{src:"/"+t.icon+".svg",alt:"scene_icon"}),r.a.createElement("p",null,t.name),n)}))},b=a(10),y=a.n(b),E=function(e){return e.security.map((function(t,a){var n;return t.active&&(n=r.a.createElement("hr",null)),r.a.createElement(h.Focusable,{className:y.a.Item,key:t.id,onClickEnter:function(a){return e.enterClicked(a,t.id)},onKeyUp:function(t){return e.sendBack(t)},onFocus:function(t){return e.focusHandler(t)}},r.a.createElement("img",{src:"/"+t.icon+".svg",alt:"security_icon"}),r.a.createElement("p",null,t.name),n)}))},k=function(e){return Object(i.createPortal)(e.children,document.getElementById(e.element))},w=function(e){var t=[y.a.Item],a=function(){var a="all_ok";return e.alerts.forEach((function(e){"ok"!==e.status&&(a="error_w",t.push(y.a.Alert))})),a}();return r.a.createElement(h.Focusable,{className:t.join(" "),onFocus:function(t){return e.focusHandler(t)},onKeyUp:function(t){return e.sendBack(t)},onClickEnter:function(t){return e.showMenu(t,"alert")}},r.a.createElement("img",{src:"/"+a+".svg",alt:"security_icon"}),r.a.createElement("p",null,function(){var t="All OK";return e.alerts.forEach((function(e){"ok"!==e.status&&(t="System Alert")})),t}()),function(){if(e.menuVisible)return r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{ref:e.modalRef,className:"modal-menu",onKeyUp:function(t){return e.hideMenu(t)}},r.a.createElement("h1",{className:y.a.Title},"Anomaly Report"),r.a.createElement(h.FocusableSection,{sectionId:"alert-menu",neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:""},r.a.createElement(h.Focusable,{className:y.a.AlertPanel+" menu-active"},e.alerts.map((function(e,t){return r.a.createElement("div",{className:y.a.AlertRow,key:t},r.a.createElement("img",{src:"/"+("ok"===e.status?"all_ok.svg":"error.svg"),alt:"alert icon"}),r.a.createElement("p",null,e.message))}))),r.a.createElement("div",{className:y.a.InfoMessage},"An MQTT2GO compliant application for monitoring and detecting anomalies of all kinds in households with smart home services by Brno University of Technology.")),r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:y.a.Back,onKeyUp:function(t){return e.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"})))))}())},N=a(7),S=a.n(N),I=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date,n=function(e){var n="",r=new Date(1e3*e);return n=a-r>1728e5?"".concat(r.getDate(),". ").concat(t[r.getMonth()]," ").concat(r.getFullYear()):a-r>=864e5?"Yesterday":"Today","".concat(n," - ").concat(r.getHours(),":").concat(r.getMinutes().toString().padStart(2,"0"))};return r.a.createElement(h.Focusable,{className:S.a.Activity,onFocus:function(t){return e.focusHandler(t)},onKeyUp:function(t){return e.sendBack(t)},onClickEnter:function(t){return e.showMenu(t,"activity")}},e.activities.map((function(e,t){return r.a.createElement("div",{className:S.a.Row,key:t},r.a.createElement("p",{className:S.a.Time},n(e.timestamp)),r.a.createElement("p",{className:S.a.Message},e.message))})),function(t){if(e.menuVisible)return r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{ref:e.modalRef,className:"modal-menu",onKeyUp:function(t){return e.hideMenu(t)}},r.a.createElement("h1",{className:S.a.Title},"Activities Log"),r.a.createElement(h.FocusableSection,{sectionId:"activity-menu",neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"",className:S.a.ActivityPanel},r.a.createElement("div",{className:S.a.Frame},t.map((function(e,t){return r.a.createElement(h.Focusable,{className:S.a.Row+(0===t?" menu-active":""),key:t,onFocus:function(e){e.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})}},r.a.createElement("p",{className:S.a.Time},n(e.timestamp)),r.a.createElement("p",{className:S.a.Message},e.message))})),function(){if(0===e.longActivities.length)return r.a.createElement("div",{className:S.a.Loader},r.a.createElement("p",null,"Loading..."))}())),r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:S.a.Back,onKeyUp:function(t){return e.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"})))))}(e.longActivities.length>0?e.longActivities:e.activities))},M=a(3),F=a.n(M),B=function(e){var t,a,n=[{class:"White",value:"FFFFFF"},{class:"Red",value:"FF0000"},{class:"Orange",value:"F2B329"},{class:"Yellow",value:"FFFF00"},{class:"Green",value:"00FF00"},{class:"Azure",value:"00FFFF"},{class:"Blue",value:"0000FF"},{class:"Magenta",value:"FF00FF"}],i=[{class:"Ten",value:10},{class:"Twentyfive",value:25},{class:"Fifty",value:50},{class:"Seventyfive",value:75},{class:"Hundered",value:100}];return r.a.createElement(h.Focusable,{className:F.a.Item,onClickEnter:function(t){return e.showMenu(t,e.item)},onKeyUp:function(t){return e.backHandler(t)},onFocus:function(t){return e.focusHandler(t)}},r.a.createElement("div",{className:F.a.Wrap},r.a.createElement("img",{className:F.a.Icon,src:"/"+function(e,t){var a="";switch(e){case"light_level":a="bulb";break;case"light_rgb":a="bulb_rgb";break;default:a="bulb"}return"off"===t.toLowerCase()&&(a+="_off"),a}(e.item.type,e.item.state)+".svg",alt:"icon"}),r.a.createElement("p",{className:F.a.Name},e.item.name),r.a.createElement("p",{className:F.a.Technology},e.item.technology),r.a.createElement("div",{className:F.a.State},r.a.createElement("p",null,(t=e.item.state,a=e.item.brightness,"off"===t.toLowerCase()?"Off":"on"===t.toLowerCase()?a?Math.round(a)+" %":"On":void 0)))),function(){if(e.menuVisible)return r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{ref:e.modalRef,className:"modal-menu",onKeyUp:function(t){return e.hideMenu(t,e.item.id,e.room)}},r.a.createElement("h1",{className:F.a.Title},e.item.name),r.a.createElement(h.FocusableSection,{sectionId:"buttons",neighborUp:"",neighborDown:"light_rgb"===e.item.type?"@color":"@brightness",neighborLeft:"@back-btn",neighborRight:"",className:F.a.StateBtnWrap},r.a.createElement(h.Focusable,{className:F.a.StateBtn+" menu-active",onClickEnter:function(){return e.stateClicked(e.item.id,e.room,"on")}},r.a.createElement("img",{className:F.a.Icon,src:"/bulb.svg",alt:"icon"}),r.a.createElement("p",null,"Turn On")),r.a.createElement(h.Focusable,{className:F.a.StateBtn,onClickEnter:function(){return e.stateClicked(e.item.id,e.room,"off")}},r.a.createElement("img",{className:F.a.Icon,src:"/bulb_off.svg",alt:"icon"}),r.a.createElement("p",null,"Turn Off"))),"light_rgb"===e.item.type?r.a.createElement(h.FocusableSection,{sectionId:"color",neighborUp:"@buttons",neighborDown:"@brightness",neighborLeft:"@back-btn",neighborRight:"",className:F.a.ColorWrap},n.map((function(t,a){return r.a.createElement(h.Focusable,{className:[F.a.ColorItem,F.a[t.class]].join(" "),key:a,onClickEnter:function(){return e.colorClicked(e.item.id,e.room,t.value)}})}))):null,r.a.createElement(h.FocusableSection,{sectionId:"brightness",neighborUp:"light_rgb"===e.item.type?"@color":"@buttons",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"",className:F.a.BrightnessWrap},i.map((function(t,a){return r.a.createElement(h.Focusable,{className:[F.a.BrightnessItem,F.a[t.class]].join(" "),key:a,onClickEnter:function(){return e.bightnessClicked(e.item.id,e.room,t.value)}},t.value+"%")}))),r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:F.a.Back,onKeyUp:function(t){return e.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"})))))}())},C=a(15),H=a.n(C),D=function(e){return r.a.createElement(h.Focusable,{className:H.a.Item,key:e.item.id,onKeyUp:function(t){return e.backHandler(t)},onClickEnter:function(t){return e.stateClicked(t,e.item.id,e.room,e.item)},onFocus:function(t){return e.focusHandler(t)}},r.a.createElement("div",{className:H.a.Wrap},r.a.createElement("img",{className:H.a.Icon,src:"/"+("light"===e.item.type?"bulb":"switch")+("off"===e.item.state.toLowerCase()?"_off.svg":".svg"),alt:"icon"}),r.a.createElement("p",{className:H.a.Name},e.item.name),r.a.createElement("p",{className:H.a.Technology},e.item.technology),r.a.createElement("div",{className:H.a.State},r.a.createElement("p",null,"on"===e.item.state?"On":"Off"))))},T=a(5),A=a.n(T),R=function(e){var t,a=[75,50,25,10];return r.a.createElement(h.Focusable,{className:A.a.Item,onClickEnter:function(t){return e.showMenu(t,e.item)},onFocus:function(t){return e.focusHandler(t)},onKeyUp:function(t){return e.backHandler(t)}},r.a.createElement("div",{className:A.a.Wrap},r.a.createElement("img",{className:A.a.Icon,src:"/blinds_"+(t=e.item.position,(0===t?"close":t<50?"25":t<75?"50":t<100?"75":100===t?"open":void 0)+".svg"),alt:"icon"}),r.a.createElement("p",{className:A.a.Name},e.item.name),r.a.createElement("div",{className:A.a.State},function(e,t){return t?r.a.createElement("div",{className:A.a.LdsRing}):100===e?r.a.createElement("p",null,"Up"):0===e?r.a.createElement("p",null,"Down"):r.a.createElement("p",null,e+" %")}(e.item.position,e.item.moving))),function(){if(e.menuVisible)return r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{ref:e.modalRef,className:"modal-menu",onKeyUp:function(t){return e.hideMenu(t,e.item.id,e.room)}},r.a.createElement("h1",{className:A.a.Title},e.item.name),r.a.createElement(h.FocusableSection,{neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"",className:A.a.BtnWrap,sectionId:"blinds-level"},r.a.createElement(h.Focusable,{className:A.a.Btn+" menu-active",onClickEnter:function(){return e.levelClicked(e.item.id,e.room,100)}},r.a.createElement("img",{className:A.a.Icon,src:"/blinds_open.svg",alt:"icon"}),r.a.createElement("p",null,"Up")),a.map((function(t,a){return r.a.createElement(h.Focusable,{className:A.a.Level,key:a,onClickEnter:function(){return e.levelClicked(e.item.id,e.room,t)}},r.a.createElement("p",null,t," %"))})),r.a.createElement(h.Focusable,{className:A.a.Btn,onClickEnter:function(){return e.levelClicked(e.item.id,e.room,0)}},r.a.createElement("img",{className:A.a.Icon,src:"/blinds_close.svg",alt:"icon"}),r.a.createElement("p",null,"Down"))),r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:A.a.Back,onKeyUp:function(t){return e.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"})))))}())},L=a(9),W=a.n(L),x=function(e){var t=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e)return r.a.createElement("div",null,r.a.createElement("p",{className:W.a.Value},a?Math.round(e):e.toFixed(3)),r.a.createElement("p",{className:W.a.VarName},t))};return r.a.createElement(h.Focusable,{className:W.a.Item,key:e.item.id,onKeyUp:function(t){return e.backHandler(t)},onFocus:function(t){return e.focusHandler(t)},onClickEnter:function(t){return e.stateClicked(t,e.item.id,e.room,e.item)}},r.a.createElement("div",{className:W.a.Wrap},r.a.createElement("img",{className:W.a.Icon,src:"/"+("light"===e.item.type?"bulb":"switch")+("off"===e.item.state.toLowerCase()?"_off.svg":".svg"),alt:"icon"}),r.a.createElement("div",{className:W.a.MidWrap},r.a.createElement("div",{className:W.a.NameWrap},r.a.createElement("p",{className:W.a.Name},e.item.name),r.a.createElement("p",{className:W.a.Technology},e.item.technology)),r.a.createElement("div",{className:W.a.Values},t(e.item.voltage,"Voltage (V)"),t(e.item.current,"Current (A)",!1),t(e.item.consumption,"Power (W)"),t(e.item.temperature,"Temperature (C)"))),r.a.createElement("div",{className:W.a.State},r.a.createElement("p",null,"on"===e.item.state?"On":"Off"))))},O=a(4),U=a.n(O),V=function(e){return r.a.createElement(h.Focusable,{className:U.a.Item,onFocus:function(t){return e.focusHandler(t)},onKeyUp:function(t){return e.backHandler(t)},onClickEnter:function(t){return e.showMenu(t,e.item)}},r.a.createElement("div",{className:U.a.ContWrap},r.a.createElement("img",{className:U.a.Background,src:e.item.image,alt:"camera_icon"}),r.a.createElement("div",{className:U.a.Shadow},r.a.createElement("p",{className:U.a.Name},e.item.name),e.room.devices.map((function(e,t){var a,n;return void 0===e.temperature||"switch"!==e.type&&"sensor"!==e.type||(a=r.a.createElement("div",{className:U.a.Environment},r.a.createElement("img",{src:"/temperature.svg",alt:"temp"}),r.a.createElement("p",null,parseFloat(e.temperature).toFixed(1),"\xb0"))),void 0!==e.humidity&&(n=r.a.createElement("div",{className:U.a.Environment},r.a.createElement("img",{src:"/humidity.svg",alt:"humidity"}),r.a.createElement("p",null,parseFloat(e.humidity).toFixed(1),"%"))),r.a.createElement("div",{className:U.a.EnvWrap,key:t},a,n)}))),r.a.createElement("div",{className:U.a.Movement},r.a.createElement("img",{className:U.a.Background,src:"/dots.svg",alt:"dots"}),r.a.createElement("p",null,e.item.events.message))),function(){if(e.menuVisible)return r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{ref:e.modalRef,className:"modal-menu "+U.a.CameraMenu},r.a.createElement(h.FocusableSection,{className:U.a.MenuWrap,neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"",sectionId:"camera-stream"},r.a.createElement(h.Focusable,{className:U.a.StreamWrap+" menu-active",onKeyUp:function(t){return e.hideMenu(t)}},r.a.createElement("p",{className:U.a.Name+" "+U.a.Shadow},e.item.name),r.a.createElement("p",{className:U.a.Live},"Live"),r.a.createElement("img",{id:"camera-stream",src:e.item.image,alt:"Camera stream"}))),r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:U.a.Back,onKeyUp:function(t){return e.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back_w.svg"})))))}())},j=function(e){var t=function(t,a,n,r){e.lastSelectHandler(t.target),r.state="off"===r.state.toLowerCase()?"on":"off",e.setChange(a,n,r),e.mqttChange(a,"set","switch",r.state)},a=function(t,a,n){var r=e.selectedItem;r.state=n,e.selectedHandler(null),e.setChange(t,a,r),e.mqttChange(t,"set","switch",n),window.history.back()},n=function(t,a,n){e.selectedItem.position!==n&&(e.selectedItem.moving=!0);var r=e.selectedItem;r.position=n,e.selectedHandler(null),e.setChange(t,a,r),e.mqttChange(t,"set","position",n),window.history.back()},i=function(t,a,n){var r=n.match(/.{1,2}/g),i={r:parseInt(r[0],16),g:parseInt(r[1],16),b:parseInt(r[2],16)},s=e.selectedItem;s.color=i,e.selectedHandler(null),"off"===s.state&&(s.state="on"),e.setChange(t,a,s),e.mqttChange(t,"color","color",i),window.history.back()},s=function(t,a,n){var r=e.selectedItem;r.brightness=n,e.selectedHandler(null),"off"===r.state&&(r.state="on"),e.setChange(t,a,r),e.mqttChange(t,"brightness","brightness",n),window.history.back()};return e.rooms.map((function(c){return r.a.createElement(h.FocusableSection,{className:"Wrap-Vertical",key:c.id,sectionId:c.id},c.devices.map((function(o){return function(c,o){return"switch"===c.type||"light"===c.type?r.a.createElement(D,{item:c,stateClicked:t,backHandler:e.sendBack,key:c.id,room:o.id,focusHandler:e.focusHandler}):"socket"===c.type?r.a.createElement(x,{item:c,stateClicked:t,backHandler:e.sendBack,key:c.id,room:o.id,focusHandler:e.focusHandler}):c.type.startsWith("light_")?r.a.createElement(B,{item:c,modalRef:e.modalRef,menuVisible:c===e.selectedItem,selectedItem:e.selectedItem,showMenu:e.showMenu,hideMenu:e.hideMenu,stateClicked:a,colorClicked:i,bightnessClicked:s,key:c.id,room:o.id,focusHandler:e.focusHandler,showAlert:e.showAlert,backHandler:e.sendBack}):"blinds"===c.type?r.a.createElement(R,{item:c,modalRef:e.modalRef,menuVisible:c===e.selectedItem,showMenu:e.showMenu,hideMenu:e.hideMenu,levelClicked:n,key:c.id,room:o.id,focusHandler:e.focusHandler,showAlert:e.showAlert,backHandler:e.sendBack}):"camera"===c.type?r.a.createElement(V,{item:c,modalRef:e.modalRef,menuVisible:c===e.selectedItem,room:o,key:c.id,focusHandler:e.focusHandler,showMenu:e.showMenu,hideMenu:e.hideMenu,showAlert:e.showAlert,backHandler:e.sendBack}):void 0}(o,c)})))}))},P=a(35),K=a.n(P),J=a(62),Z=a(2),q=a.n(Z),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).baseUrl="http://zeroconf:15051/a1/xploretv/v1/zeroconf",e.serviceName="TV Dashboard",e.state={error:{code:"Unknown",msg:"Error",reason:"Failed to fetch"}},e.loaded=0,e.mainItems=[{key:"ipv4",name:"IPv4"},{key:"ipv6",name:"IPv6"},{key:"port",name:"Port"},{key:"name",name:"Name"},{key:"domain",name:"Domain"},{key:"host",name:"Host"},{key:"type",name:"Service Type"},{key:"subtype",name:"Service Subtype"}],e.showRight=!1,e.changeIdx=function(t,a){"services"in e.state&&(e.showRight=!1,e.setState({selIdx:a,detailIdx:0}),t.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}))},e.changeDetailIdx=function(t,a){"services"in e.state&&(e.showRight=!0,e.setState({detailIdx:a}),t.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",(function(){e.deleteService()}))}},{key:"parseData",value:function(e){var t={};e.forEach((function(e){var a={name:e.name,domain:e.domainName,host:e.hostName,ipv4:e.addresses.ipv4,ipv6:e.addresses.ipv6,type:e.service.type,subtype:e.service.subtype,port:String(e.service.port),record:e.service.txtRecord};e.hostName in t?t[e.hostName].push(a):t[e.hostName]=[a]})),"services"in this.state?this.setState({services:t}):this.setState({services:t,selIdx:0,detailIdx:0,error:!1})}},{key:"requestServices",value:function(){var e=this;fetch(this.baseUrl).then(function(){var t=Object(J.a)(K.a.mark((function t(a){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(n=t.sent,a.ok){t.next=5;break}return t.abrupt("return",e.setState({error:{code:n.code,msg:n.message,reason:n.reason,host:"http://zeroconf:15051/a1/xploretv/v1/zeroconf"}}));case 5:return t.abrupt("return",e.parseData(n.services));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return e.setState({error:{code:"Unknown",msg:"Error",reason:t.message,host:"http://zeroconf:15051/a1/xploretv/v1/zeroconf"}})}))}},{key:"deleteService",value:function(){navigator.sendBeacon(this.baseUrl+"/"+this.serviceName)}},{key:"loadData",value:function(){var e=this;0===this.loaded?fetch(this.baseUrl,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.serviceName,replaceWildcards:!0,serviceProtocol:"any",service:{type:"_http._tcp",port:parseInt(window.location.port),txtRecord:{version:"1.0",provider:"A1 Telekom Austria",product:"Xplore TV-Dashboard",path:"/",virtualHost:"true"}}})}).then((function(e){return e.json()})).then((function(t){if(201!==t.code&&409!==t.code)return e.setState({error:{code:t.code,msg:t.message,reason:t.reason,host:"http://zeroconf:15051/a1/xploretv/v1/zeroconf"}});e.requestServices()})).catch((function(t){return e.setState({error:{code:"Unknown",msg:"Error",reason:t.message,host:"http://zeroconf:15051/a1/xploretv/v1/zeroconf"}})})):this.requestServices()}},{key:"componentDidUpdate",value:function(){Date.now()-this.loaded>5e3&&(this.loadData(),this.loaded=Date.now())}},{key:"getNodes",value:function(){var e=this;if("services"in this.state)return Object.keys(this.state.services).map((function(t,a){return r.a.createElement(h.Focusable,{className:q.a.Row+(0===a?" menu-active":""),key:a,onFocus:function(t){return e.changeIdx(t,a)},onKeyUp:function(t){return e.props.hideMenu(t)}},r.a.createElement("p",{className:q.a.Name},e.state.services[t][0].host.replace(/(.local.$|.$)/i,"")),r.a.createElement("p",{className:q.a.Address},e.state.services[t][0].ipv4[0],r.a.createElement("span",{className:q.a.Number}," (",1===e.state.services[t].length?"One service":e.state.services[t].length+" services",")")))}))}},{key:"getServices",value:function(){var e=this;if("services"in this.state){var t=this.state.selIdx;this.state.selIdx>Object.keys(this.state.services).length&&(this.setState({selIdx:0,detailIdx:0}),t=0);var a=this.state.services[Object.keys(this.state.services)[t]];return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:q.a.Address},"Address"),r.a.createElement("p",{className:q.a.Name},a[0].host),a[0].ipv4.map((function(e,t){return r.a.createElement("p",{key:"ipv4-"+t,className:q.a.Name},e)})),a[0].ipv6.map((function(e,t){return r.a.createElement("p",{key:"ipv6-"+t,className:q.a.Name},e)})),r.a.createElement("div",{className:q.a.InfoWrap},r.a.createElement("p",{className:q.a.Address},"Services"),a.map((function(t,a){return r.a.createElement(h.Focusable,{className:q.a.InfoRow,key:a,onFocus:function(t){return e.changeDetailIdx(t,a)},onKeyUp:function(t){return e.props.hideMenu(t)}},r.a.createElement("p",{className:q.a.Name},t.name),r.a.createElement("p",{className:q.a.Type},t.type))}))))}}},{key:"getLink",value:function(e,t){return e.record.path&&e.record.path.startsWith("http")?e.record.path:"http://"+t+":"+String(e.port)+(e.record.path?e.record.path:"")}},{key:"getButton",value:function(e){var t=this;if(e.type.includes("http")&&"true"!==e.record.virtualHost)return e.ipv4.map((function(a,n){return r.a.createElement("div",{className:q.a.BtnWrap,key:"open_btn-"+n},r.a.createElement(h.Focusable,{className:q.a.Btn,onClickEnter:function(){window.open(t.getLink(e,a),"_blank")}},e.ipv4.length>1?"Open ("+n+")":"Open"))}))}},{key:"getDetailValue",value:function(e,t){return Array.isArray(e[t.key])?e[t.key].map((function(e,a){return r.a.createElement("p",{key:t.key+"-"+a,className:q.a.InfoValue},e)})):r.a.createElement("p",{className:q.a.InfoValue},e[t.key])}},{key:"getServiceDetail",value:function(){var e=this;if("services"in this.state){var t=this.state.detailIdx,a=this.state.services[Object.keys(this.state.services)[this.state.selIdx]][t];return r.a.createElement(h.FocusableSection,{sectionId:"detail-service",neighborUp:"",neighborDown:"",neighborLeft:"@detail-services",neighborRight:"",className:q.a.RightPanel+" "+(this.showRight?q.a.Show:q.a.Hide)},r.a.createElement("div",{className:q.a.Frame},this.getButton(a),r.a.createElement("p",{className:q.a.InfoTitle},"Core"),this.mainItems.map((function(t,n){return a[t.key]&&a[t.key].length>0?r.a.createElement(h.Focusable,{className:q.a.DetailRow,key:"detail_"+n,onFocus:function(e){e.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})}},r.a.createElement("p",{className:q.a.InfoHead},t.name),e.getDetailValue(a,t)):null})),r.a.createElement("br",null),r.a.createElement("p",{className:q.a.InfoTitle},"Data"),Object.keys(a.record).map((function(e){return r.a.createElement(h.Focusable,{className:q.a.DetailRow,key:e,onFocus:function(e){e.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})}},r.a.createElement("p",{className:q.a.InfoHead},e),r.a.createElement("p",{className:q.a.InfoValue},a.record[e]))}))))}}},{key:"getMenu",value:function(){var e=this;if(this.props.menuVisible)return!1!==this.state.error?r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{className:"modal-menu",ref:this.props.modalRef},r.a.createElement("div",{className:q.a.ServiceWrap},r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:q.a.Back,onKeyUp:function(t){return e.props.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"}))),r.a.createElement(h.FocusableSection,{sectionId:"main-service",neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"",className:q.a.ErrorWrap},r.a.createElement("div",{className:"Error-item"},r.a.createElement("img",{src:"/ws_error.svg",alt:"Error"})),r.a.createElement("div",{className:"Error-item"},r.a.createElement("strong",null,"Ups, da ist etwas schief gelaufen.")," Wahrscheinlich fehlt das Zeroconfiguration Networking Service. Bitte wenden Sie sich an den Ger\xe4tehersteller oder an Ihren Dienstanbieter."),r.a.createElement("div",{className:"Error-item"},r.a.createElement("strong",null,"Ooops, something went wrong.")," Probably the Zeroconfiguration Networking Service is missing. Please contact the device manufacturer or your service provider."),r.a.createElement("div",{className:q.a.ErrorCode+" "+q.a.Break},r.a.createElement("strong",null,"Host:")," ",this.state.error.host),r.a.createElement("div",{className:q.a.ErrorCode},r.a.createElement("strong",null,"Code:")," ",this.state.error.code),r.a.createElement("div",{className:q.a.ErrorMsg},r.a.createElement("strong",null,this.state.error.msg,":")," ",this.state.error.reason),r.a.createElement(h.Focusable,{className:"Error-item menu-active",onKeyUp:function(t){return e.props.hideMenu(t,!1)}},r.a.createElement("div",{className:"Error-btn"},"Zur\xfcck \u2022 Back")))))):r.a.createElement(k,{element:"Modal-Menu"},r.a.createElement("div",{className:"modal-menu",ref:this.props.modalRef},r.a.createElement("h1",{className:q.a.Title},"Service Discovery"),r.a.createElement("div",{className:q.a.ServiceWrap},r.a.createElement(h.FocusableSection,{sectionId:"back-btn",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement(h.Focusable,{className:q.a.Back,onKeyUp:function(t){return e.props.hideMenu(t,!1)}},r.a.createElement("img",{alt:"back",src:"/back.svg"}))),r.a.createElement(h.FocusableSection,{sectionId:"main-service",neighborUp:"",neighborDown:"",neighborLeft:"@back-btn",neighborRight:"@detail-services",className:q.a.LeftPanel},r.a.createElement("div",{className:q.a.Frame},r.a.createElement("p",{className:q.a.Address+" "+q.a.TextCenter},"Hosts"),this.getNodes())),r.a.createElement(h.FocusableSection,{sectionId:"detail-services",neighborUp:"",neighborDown:"",neighborLeft:"@main-service",neighborRight:"@detail-service",className:q.a.MidPanel},r.a.createElement("div",{className:q.a.Frame},this.getServices())),this.getServiceDetail())))}},{key:"render",value:function(){var e=this;return r.a.createElement(h.Focusable,{className:q.a.Item,onFocus:function(t){return e.props.focusHandler(t)},onKeyUp:function(t){return e.props.sendBack(t)},onClickEnter:function(t){return e.props.showMenu(t,"discovery")}},r.a.createElement("img",{src:"/cogwheel.svg",alt:"service_icon"}),r.a.createElement("p",null,"Services"),this.getMenu())}}]),a}(n.Component);var G=a(94),Y={protocol:"mqtt",clientId:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t}(8)},Q=G.connect("mqtt://tv-dashboard.duckdns.org:59001",Y),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).homes=[{name:"Brno Home",prefix:"BRQ/BUT",info:"Smart Home Service powered by <strong>Home Assistant</strong> with a <strong>MQTT2GO</strong> compliant Add-on by <strong>Brno University of Technology</strong>.",system:"TurrisOS 5.0.3",model:"Turris Omnia"},{name:"Vienna Home",prefix:"VIE/A1",info:"Any Smart Home Service, e.g., Powered by <strong>Perenio</strong>, <strong>Tuya</strong>, or <strong>Vivalabs</strong> with an <strong>MQTT2GO</strong> compliant AddOn can be connected to the <strong>Xplore TV</strong> dashboard!",system:"TurrisOS 5.0.3",model:"Turris Omnia"}],e.home_id=0,e.state={scenes:[],security:[],alert:[],activities:[],rooms:[]},e.activities=[],e.menuVisible=!1,e.selectedItem=null,e.lastSelected=null,e.cameraTimer=null,e.loadStatus="loading",e.modalRef=r.a.createRef(),e.alertRef=r.a.createRef(),e.eventsHandler=function(t){var a=Object(c.a)(e.state.alert),n=Object(c.a)(e.state.activities);n.length>2&&n.pop(),n.unshift({timestamp:+new Date/1e3,message:t.message}),e.setState({activities:n});var r=a.findIndex((function(e){return e.event_name===t.event_name}));-1!==r&&(a[r]=t,a[r].timestamp=+new Date,"alert"===t.status&&e.setState({alertMsg:t.message}),e.setState({alert:a}))},e.changeStateHandler=function(t,a,n){for(var r=Object(c.a)(e.state.rooms),i=-1,s=-1,o=0;o<r.length;o++){var l=r[o].devices.findIndex((function(e){return e.id===t}));if(l>=0){i=o,s=l;break}}var m=r[i].devices[s];if("blinds"===m.type&&(m.moving=!1),"motion_detection"===a)return m.events.message="Motion detected now",m.events.timestamp=+new Date,void e.setState({rooms:r});m[a]!==n&&("color"===a&&(m.state="on"),"brightness"===a&&n>0&&(m.state="on"),m[a]=n,e.setState({rooms:r}))},e.enterSelectedHandler=function(t,a){var n="";a.startsWith("scn")&&(n="scenes",Q.publish("".concat(e.homes[e.home_id].prefix,"/in"),JSON.stringify({priority_level:2,type:"set",timestamp:(new Date).getTime(),value:{scene_id:a}}))),a.startsWith("sec")&&(n="security",Q.publish("".concat(e.homes[e.home_id].prefix,"/security/in"),JSON.stringify({priority_level:2,type:"arm",timestamp:(new Date).getTime(),value:"sec_1"===a})));var r=Object(c.a)(e.state[n]);r.forEach((function(e){e.active=!1})),r[e.state[n].findIndex((function(e){return e.id===a}))].active=!0,e.setState({type:r})},e.sendMQTTChange=function(t,a,n,r){var i="".concat(e.homes[e.home_id].prefix,"/").concat(t,"/").concat(n,"/in"),s={type:a,timestamp:(new Date).valueOf(),value:r};Q.publish(i,JSON.stringify(s))},e.commitChange=function(t,a,n){var r=Object(c.a)(e.state.rooms),i=r.findIndex((function(e){return e.id===a})),s=r[i].devices.findIndex((function(e){return e.id===t}));r[i].devices[s]=n,e.setState({rooms:r})},e.switchFocusable=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.menuVisible=t,(t||a)&&e.forceUpdate()},e.focused=function(t){e.lastSelected=t.target,t.target.scrollIntoView({behavior:"smooth",inline:"center",block:"center"})},e.setLastSelected=function(t){e.lastSelected=t},e.setSelected=function(t){e.selectedItem=t},e.hideMenuHandler=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[8,27,403,461];(a.includes(e.keyCode)||!1===t)&&window.history.back()},e.backHandler=function(e){27===e.keyCode&&window.history.back()},e.showMenuHandler=function(t,a){e.lastSelected=t.target,e.selectedItem=a,e.switchFocusable(!0),"activity"===e.selectedItem&&(Q.publish("".concat(e.homes[e.home_id].prefix,"/in"),JSON.stringify({type:"query_log",timestamp:+new Date})),Q.subscribe("".concat(e.homes[e.home_id].prefix,"/out"))),window.history.replaceState({home:!0},null,window.location.pathname),window.history.pushState({home:!0},null,window.location.pathname+"menu"),"camera"===a.type&&e.sendMQTTChange(a.id,"stream","stream","GET_STREAM"),e.modalRef.current.querySelector(".menu-active").focus()},e.switchHomeHandler=function(t){Q.unsubscribe("".concat(e.homes[e.home_id].prefix,"/devices/out")),Q.unsubscribe("".concat(e.homes[e.home_id].prefix,"/activities/out")),Q.unsubscribe("".concat(e.homes[e.home_id].prefix,"/+/+/out")),Q.unsubscribe("".concat(e.homes[e.home_id].prefix,"/events/in")),e.home_id=t,1===t?(e.activities=[{}],e.setState({scenes:[{id:"scn_1",name:"Lights OFF",icon:"moon",active:!1},{id:"scn_2",name:"Lights ON",icon:"sun",active:!1},{id:"scn_3",name:"Movie time",icon:"movie",active:!1},{id:"scn_4",name:"Reading",icon:"glasses",active:!1}],alert:[{event_name:"consumption_alert",message:"Power consumption within the limit.",status:"ok",timestamp:0},{event_name:"movement_alert",message:"No movement detected.",status:"ok",timestamp:0},{event_name:"humidity_alert",message:"Humidity within the limit.",status:"ok",timestamp:0},{event_name:"temperature_alert",message:"Temperature within the limit.",status:"ok",timestamp:0},{event_name:"lights_alert",message:"All lights in regular operation.",status:"ok",timestamp:0}],security:[{id:"sec_1",type:"button",name:"Arm",icon:"arm",active:!1},{id:"sec_2",type:"button",name:"Disarmed",icon:"disarm",active:!0}],activities:[{timestamp:(new Date).getTime()/1e3-125,message:"Krystof is away"},{timestamp:(new Date).getTime()/1e3-915,message:"Air conditioning turned On"},{timestamp:(new Date).getTime()/1e3-3652,message:"Vacuum cleaner turned Off"}],rooms:[{id:"room_0",devices:[{id:"camera1",name:"Living Room",type:"camera",image:"http://147.229.149.12:58123/local/images/livingroom.png",events:{message:"No motion detected",timestamp:0}},{id:"sb1",name:"RGB Lamp",type:"light_rgb",color:0,brightness:0,state:"off"},{id:"sh25",name:"Window Blinds",type:"blinds",position:50},{id:"plugs",name:"Air Conditioning",type:"socket",voltage:235,current:.42,consumption:96.5,state:"on"},{id:"th16",name:"Projector",type:"switch",temperature:26,humidity:54.7,state:"off"}]},{id:"room_1",devices:[{id:"camera2",name:"Garden",type:"camera",image:"http://147.229.149.12:58123/local/images/garden.png",events:{message:"No motion detected",timestamp:0}},{id:"bulbs_non",name:"Foountain Light*",type:"light_rgb",technology:"Shelly",color:0,brightness:60,state:"on"},{id:"ht_non",name:"Ambient Sensor*",type:"sensor",technology:"Shelly",temperature:24,humidity:55.5},{id:"fibaro_socket",name:"Pump*",type:"switch",technology:"Zwave",state:"off"}]},{id:"room_None",devices:[{id:"camera3",name:"Entrance",type:"camera",image:"http://147.229.149.12:58123/local/images/entrance.png",events:{message:"No motion detected",timestamp:0}},{id:"zipato_bulb_2_level",name:"Chandelier*",type:"light_level",technology:"ZWave",brightness:20,state:"on"},{id:"th16_2",name:"Vacuum cleaner",type:"switch",temperature:26.3,humidity:52.1,state:"off"}]}]})):(Q.subscribe("".concat(e.homes[e.home_id].prefix,"/devices/out")),Q.subscribe("".concat(e.homes[e.home_id].prefix,"/activities/out")),Q.publish("".concat(e.homes[e.home_id].prefix,"/in"),JSON.stringify({priority_level:1,type:"query_gui_dev",timestamp:(new Date).getTime()})),Q.subscribe("".concat(e.homes[e.home_id].prefix,"/+/+/out")),Q.subscribe("".concat(e.homes[e.home_id].prefix,"/events/in")))},e}return Object(l.a)(a,[{key:"parseMqtt",value:function(e,t){this.loadStatus="loaded";var a=e.split("/");try{var n=JSON.parse(t);if(e==="".concat(this.homes[this.home_id].prefix,"/devices/out"))return Q.unsubscribe(e),this.setState(n.value),void Q.publish("".concat(this.homes[this.home_id].prefix,"/in"),JSON.stringify({priority_level:1,type:"query_activities",timestamp:(new Date).getTime()}));if(e==="".concat(this.homes[this.home_id].prefix,"/out")&&(Q.unsubscribe(e),this.activities=n.value,this.forceUpdate()),e==="".concat(this.homes[this.home_id].prefix,"/activities/out"))return Q.unsubscribe(e),void this.setState({activities:n.value});if("events"===a[2])return void this.eventsHandler(n.value);if("stream"===a[3]){var r=document.querySelector("#camera-stream");r&&(r.src=n.value)}"periodic_report"===n.type?this.changeStateHandler(a[2],a[3],n.report.value):"switch"===a[3]?this.changeStateHandler(a[2],"state",n.value):this.changeStateHandler(a[2],a[3],n.value)}catch(i){return}}},{key:"componentDidUpdate",value:function(){this.alertRef.current&&this.alertRef.current.el.focus()}},{key:"componentDidMount",value:function(){var e=this;Q.subscribe("".concat(this.homes[this.home_id].prefix,"/devices/out")),Q.subscribe("".concat(this.homes[this.home_id].prefix,"/activities/out")),Q.publish("".concat(this.homes[this.home_id].prefix,"/in"),JSON.stringify({priority_level:1,type:"query_gui_dev",timestamp:(new Date).getTime()})),Q.subscribe("".concat(this.homes[this.home_id].prefix,"/+/+/out")),Q.subscribe("".concat(this.homes[this.home_id].prefix,"/events/in")),Q.on("message",(function(t,a){return e.parseMqtt(t,a.toString())})),Q.stream.on("error",(function(){clearInterval(e.cameraTimer),e.loadStatus="error",e.forceUpdate()})),this.cameraTimer=setInterval((function(){return e.updateCameraImage()}),15e3),window.history.pushState(null,null,window.location.pathname),window.history.replaceState({home:!0},null,window.location.pathname),window.onpopstate=function(t){null==t.state?("error"===e.loadStatus&&window.history.back(),null!=e.lastSelected&&e.lastSelected.classList.contains("Tab")?window.history.back():(window.history.pushState({home:!0},null,window.location.pathname),document.querySelector(".Active").focus())):!0===t.state.home&&(e.selectedItem=null,e.switchFocusable(!1,!0),e.activities=[],e.lastSelected&&(e.lastSelected.focus(),e.lastSelected=null))}}},{key:"updateCameraImage",value:function(){if(!this.menuVisible&&!this.alertMsg){var e=Object(c.a)(this.state.rooms);e.forEach((function(e){e.devices.forEach((function(e){if("camera"===e.type){var t=new URL(e.image);t.search="?random="+Math.random(),e.image=t.toString();var a=+new Date-e.events.timestamp;e.events.message=a>18e5?"No motion detected":a>12e4?"Motion detected ".concat(Math.round(a/6e4)," mins ago"):a>6e4?"Motion detected 1 min ago":"Motion detected now"}}))})),this.setState({rooms:e})}}},{key:"hideAlert",value:function(){this.setState({alertMsg:null}),console.log(this.modalRef.current),this.modalRef.current?this.modalRef.current.querySelector(".menu-active").focus():this.lastSelected.focus()}},{key:"getAlert",value:function(){var e=this;if(this.state.alertMsg)return r.a.createElement(k,{element:"Alert-Msg"},r.a.createElement(h.FocusableSection,{sectionId:"alert-modal",className:"Alert",neighborUp:"",neighborDown:"",neighborLeft:"",neighborRight:""},r.a.createElement("img",{className:"Warning-Icon",src:"/warning.svg",alt:"warning"}),r.a.createElement("div",{className:"Alert-Wrap"},r.a.createElement("p",{className:"Alert-Title"},"Alert!"),r.a.createElement("div",{className:"Alert-Msg"},this.state.alertMsg),r.a.createElement(h.Focusable,{ref:this.alertRef,className:"Alert-Btn",onClickEnter:function(t){return e.hideAlert()}},"Close"))))}},{key:"getContent",value:function(){var e=this;return"loading"===this.loadStatus?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"})),r.a.createElement("p",null,"Loading...")):"error"===this.loadStatus?r.a.createElement(v.a,{className:"Error-wrap"},r.a.createElement("div",{className:"Error-item"},r.a.createElement("img",{src:"/ws_error.svg",alt:"Error"})),r.a.createElement("div",{className:"Error-item"},r.a.createElement("strong",null,"Ups, da ist etwas schief gelaufen.")," Wahrscheinlich kann die ben\xf6tigte WebSocket-Verbindung nicht aufgebaut werden. Bitte \xfcberpr\xfcfen Sie Ihre Firewall- und Router-Einstellungen oder wenden Sie sich an Ihren Dienstanbieter."),r.a.createElement("div",{className:"Error-item"},r.a.createElement("strong",null,"Ooops, something went wrong.")," Probably the required WebSocket connection cannot be established. Please check your firewall and router settings or contact your service provider."),r.a.createElement(h.Focusable,{className:"Error-item",onKeyUp:function(t){return e.hideMenuHandler(t)}},r.a.createElement("div",{className:"Error-btn"},"Zur\xfcck \u2022 Back"))):this.state.rooms.length>0?r.a.createElement(v.a,{className:"App"},r.a.createElement(d,{homeName:"A1 Smart Home"}),r.a.createElement(h.FocusableSection,{className:"Overview Tabs",sectionId:"tabs"},r.a.createElement(g,{homes:this.homes,homeId:this.home_id,homeHandler:this.switchHomeHandler,focusHandler:this.focused,hideMenu:this.hideMenuHandler})),r.a.createElement("div",{className:"Row"},r.a.createElement("div",{className:"Scenes"},r.a.createElement("h3",null,"Presets"),r.a.createElement(h.FocusableSection,{className:"Wrap",sectionId:"scenes"},r.a.createElement(_,{scenes:this.state.scenes,enterClicked:this.enterSelectedHandler,focusHandler:this.focused,sendBack:this.backHandler}))),r.a.createElement("div",{className:"Security"},r.a.createElement("h3",null,"Security"),r.a.createElement(h.FocusableSection,{className:"Wrap",sectionId:"security"},r.a.createElement(E,{security:this.state.security,enterClicked:this.enterSelectedHandler,sendBack:this.backHandler,focusHandler:this.focused}),r.a.createElement(w,{status:this.state.alert,alerts:this.state.alert,modalRef:this.modalRef,enterClicked:this.enterShowHandler,menuVisible:"alert"===this.selectedItem,focusHandler:this.focused,sendBack:this.backHandler,showMenu:this.showMenuHandler,hideMenu:this.hideMenuHandler}),r.a.createElement(z,{modalRef:this.modalRef,showMenu:this.showMenuHandler,menuVisible:"discovery"===this.selectedItem,hideMenu:this.hideMenuHandler,focusHandler:this.focused,sendBack:this.backHandler}))),r.a.createElement("div",{className:"Activity"},r.a.createElement("h3",null,"Activity"),r.a.createElement("div",{className:"Wrap"},r.a.createElement(I,{modalRef:this.modalRef,activities:this.state.activities,longActivities:this.activities,menuVisible:"activity"===this.selectedItem,hideMenu:this.hideMenuHandler,focusHandler:this.focused,sendBack:this.backHandler,showMenu:this.showMenuHandler})))),r.a.createElement("div",{className:"Rooms"},r.a.createElement("h3",null,"Rooms"),r.a.createElement("div",{className:"Row"},r.a.createElement(j,{rooms:this.state.rooms,modalRef:this.modalRef,showMenu:this.showMenuHandler,setChange:this.commitChange,menuChange:this.switchFocusable,mqttChange:this.sendMQTTChange,focusHandler:this.focused,hideMenu:this.hideMenuHandler,lastSelectHandler:this.setLastSelected,selectedItem:this.selectedItem,selectedHandler:this.setSelected,sendBack:this.backHandler}),r.a.createElement("div",{className:"Camera-Btn"},r.a.createElement("img",{src:"/camera.svg",alt:"camera_icon"}),r.a.createElement("p",null,"See all..")))),r.a.createElement("div",{className:"Info-Message"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.homes[this.home_id].info}}),r.a.createElement("div",null,"Device Model: ",this.homes[this.home_id].model," \u2022 Firmware version: ",this.homes[this.home_id].system)),r.a.createElement("div",{id:"Modal-Menu"}),r.a.createElement("div",{id:"Alert-Msg"}),this.getAlert()):void 0}},{key:"render",value:function(){return document.title="A1 TV Dashboard",r.a.createElement(r.a.Fragment,null,this.getContent())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,t,a){e.exports={Item:"Switch_Item__f_4lr",Wrap:"Switch_Wrap__3XbQZ",Icon:"Switch_Icon__1kndi",Name:"Switch_Name__JBL62",State:"Switch_State__rGcSH",Off:"Switch_Off__3_2X5",Technology:"Switch_Technology__IjiUL"}},2:function(e,t,a){e.exports={Item:"Discovery_Item__3tRHr",Title:"Discovery_Title__ErbDf",Back:"Discovery_Back__28sKs",LeftPanel:"Discovery_LeftPanel__1Jbob",MidPanel:"Discovery_MidPanel__2Zw8z",RightPanel:"Discovery_RightPanel__3ITHH",Show:"Discovery_Show__2Zb8t",Hide:"Discovery_Hide__3j19Y",ServiceWrap:"Discovery_ServiceWrap__1o6SL",ErrorWrap:"Discovery_ErrorWrap__2EhI0",ErrorCode:"Discovery_ErrorCode__3_LBY",ErrorMsg:"Discovery_ErrorMsg__2Rtfo",Frame:"Discovery_Frame__1-cld",Row:"Discovery_Row__3sm91",InfoRow:"Discovery_InfoRow__1WaUC",DetailRow:"Discovery_DetailRow__2fMgq",Address:"Discovery_Address__cJNjJ",Name:"Discovery_Name__2MIvz",Type:"Discovery_Type__V6PPS",Number:"Discovery_Number__2ZBD9",InfoWrap:"Discovery_InfoWrap__1sTya",InfoHead:"Discovery_InfoHead__n5BtM",InfoValue:"Discovery_InfoValue__804ka",Break:"Discovery_Break__1ZZwH",BtnWrap:"Discovery_BtnWrap__1_FGI",Btn:"Discovery_Btn__ijm4J",TextCenter:"Discovery_TextCenter__2e62S",InfoTitle:"Discovery_InfoTitle__3D397",slideInFromLeft:"Discovery_slideInFromLeft__25YD5",slideOutFromRight:"Discovery_slideOutFromRight__3H-O6"}},3:function(e,t,a){e.exports={Item:"Light_Item__NOyZW",StateBtn:"Light_StateBtn__2m81H",ColorItem:"Light_ColorItem__BJjyI",BrightnessItem:"Light_BrightnessItem__3np0x",Active:"Light_Active__ApLWZ",Menu:"Light_Menu__14o4b",Name:"Light_Name__MuP7j",Wrap:"Light_Wrap__ps87Y",Icon:"Light_Icon__2A_rH",Arrow:"Light_Arrow__2r8P0",White:"Light_White__3n0nP",Red:"Light_Red__2TopN",Orange:"Light_Orange__37R63",Yellow:"Light_Yellow__2HRHr",Green:"Light_Green__2QPNA",Azure:"Light_Azure__ZBrP3",Blue:"Light_Blue__R-0FG",Magenta:"Light_Magenta__2u8RE",StateBtnWrap:"Light_StateBtnWrap__17Wuo",BrightnessWrap:"Light_BrightnessWrap__2by5h",ColorWrap:"Light_ColorWrap__2i9sw",Ten:"Light_Ten__mA2fu",Twentyfive:"Light_Twentyfive__1300N",Fifty:"Light_Fifty__9qJjT",Seventyfive:"Light_Seventyfive__3pWtx",Hundered:"Light_Hundered__3XvpL",Title:"Light_Title__45Ctm",State:"Light_State__2miSj",Technology:"Light_Technology__3e1na",Back:"Light_Back__2dXsB"}},4:function(e,t,a){e.exports={Item:"Camera_Item__1VZKU",Background:"Camera_Background__1uVTb",Shadow:"Camera_Shadow__3LgSh",Name:"Camera_Name__1VI94",Movement:"Camera_Movement__65ZWG",EnvWrap:"Camera_EnvWrap__3XY09",Environment:"Camera_Environment__1e0Kj",Live:"Camera_Live__3Gg4s",Wrap:"Camera_Wrap__v1CGf",ContWrap:"Camera_ContWrap__3i5Qj",CameraMenu:"Camera_CameraMenu__2o_m-",MenuWrap:"Camera_MenuWrap__27kgE",StreamWrap:"Camera_StreamWrap__22IIa",Back:"Camera_Back__15rEt"}},5:function(e,t,a){e.exports={Item:"Blinds_Item__jAnwQ",StateBtn:"Blinds_StateBtn__2oAmy",Active:"Blinds_Active__xusq7",Name:"Blinds_Name__23f3Z",Wrap:"Blinds_Wrap__3i1JI",Icon:"Blinds_Icon__3jKzm",Btn:"Blinds_Btn__24jja",State:"Blinds_State__30LB8",BtnWrap:"Blinds_BtnWrap__3GFgF",Level:"Blinds_Level__23jnQ",Title:"Blinds_Title__fpVaR",LdsRing:"Blinds_LdsRing__1Z46h","lds-dual-ring":"Blinds_lds-dual-ring__3BSYf",Back:"Blinds_Back__2ca0n"}},61:function(e,t,a){e.exports={Item:"Scenes_Item__1bfBc",createBox:"Scenes_createBox__3owYL"}},63:function(e,t,a){e.exports=a(145)},68:function(e,t,a){},69:function(e,t,a){},7:function(e,t,a){e.exports={Time:"Activity_Time__3ee_0",Message:"Activity_Message__2CYF4",Activity:"Activity_Activity__7yZm4",Row:"Activity_Row__1A0QP",Title:"Activity_Title__2Tspz",ActivityPanel:"Activity_ActivityPanel__1GZL0",Loader:"Activity_Loader__vNtpz",Frame:"Activity_Frame__2ftpp",Back:"Activity_Back__1Iluy"}},70:function(e,t,a){},9:function(e,t,a){e.exports={Item:"Socket_Item__1SD3B",Wrap:"Socket_Wrap__2clO_",Icon:"Socket_Icon__hnzw0",State:"Socket_State__1xJW4",Values:"Socket_Values__npTPE",VarName:"Socket_VarName__zZiG-",Value:"Socket_Value__ypSOb",Name:"Socket_Name__3nUVp",Technology:"Socket_Technology__1ZnJb",MidWrap:"Socket_MidWrap__J_ZZX",NameWrap:"Socket_NameWrap__1w9Zp"}},92:function(e,t,a){},99:function(e,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.9dbed104.chunk.js.map